{% extends "layout.html" %}

{% block title %}Edit Address{% endblock %}

{% block content %}
<div class="container py-4">
    <div class="row justify-content-center">
        <div class="col-md-8">
            <div class="card shadow-sm border-0">
                <div class="card-header bg-white border-bottom py-3">
                    <h2 class="h4 mb-0">Edit Address</h2>
                </div>
                <div class="card-body p-4">
                    <form method="POST" action="{{ url_for('checkout_bp.edit_address', address_id=address.id) }}">
                        <div class="mb-3">
                            <label for="address_type" class="form-label small fw-bold">Address Type</label>
                            <select class="form-select" id="address_type" name="address_type" required>
                                <option value="shipping" {% if address.address_type == 'shipping' %}selected{% endif %}>Shipping</option>
                                <option value="billing" {% if address.address_type == 'billing' %}selected{% endif %}>Billing</option>
                            </select>
                        </div>
                        <div class="row g-3 mb-3">
                            <div class="col-md-6">
                                <label for="first_name" class="form-label small fw-bold">First Name</label>
                                <input type="text" class="form-control" id="first_name" name="first_name" value="{{ address.first_name }}" required>
                            </div>
                            <div class="col-md-6">
                                <label for="last_name" class="form-label small fw-bold">Last Name</label>
                                <input type="text" class="form-control" id="last_name" name="last_name" value="{{ address.last_name }}" required>
                            </div>
                        </div>
                        <div class="mb-3">
                            <label for="address_line_1" class="form-label small fw-bold">Address Line 1</label>
                            <input type="text" class="form-control" id="address_line_1" name="address_line_1" value="{{ address.address_line_1 }}" required>
                        </div>
                        <div class="mb-3">
                            <label for="address_line_2" class="form-label small fw-bold">Address Line 2 (Optional)</label>
                            <input type="text" class="form-control" id="address_line_2" name="address_line_2" value="{{ address.address_line_2 }}">
                        </div>
                        <div class="row g-3 mb-3">
                            <div class="col-md-6">
                                <label for="city" class="form-label small fw-bold">City</label>
                                <input type="text" class="form-control" id="city" name="city" value="{{ address.city }}" required>
                            </div>
                            <div class="col-md-6">
                                <label for="state" class="form-label small fw-bold">State/Province</label>
                                <input type="text" class="form-control" id="state" name="state" value="{{ address.state }}">
                            </div>
                        </div>
                        <div class="row g-3 mb-3">
                            <div class="col-md-6">
                                <label for="postal_code" class="form-label small fw-bold">Postal Code</label>
                                <input type="text" class="form-control" id="postal_code" name="postal_code" value="{{ address.postal_code }}" required>
                            </div>
                            <div class="col-md-6">
                                <label for="country" class="form-label small fw-bold">Country</label>
                                <select class="form-select" id="country" name="country" required>
                                    {% for country in countries %}
                                        <option value="{{ country.iso_code }}" {% if country.iso_code == address.country_iso_code %}selected{% endif %}>{{ country.name }}</option>
                                    {% endfor %}
                                </select>
                            </div>
                        </div>
                        <div class="mb-4">
                            <label for="phone_number" class="form-label small fw-bold">Phone Number (Optional)</label>
                            <input type="text" class="form-control" id="phone_number" name="phone_number" value="{{ address.phone_number }}">
                        </div>
                        <div class="d-flex gap-2">
                            <button type="submit" class="btn btn-primary px-4">Save Changes</button>
                            <a href="{{ url_for('checkout_bp.shipping_address') }}" class="btn btn-outline-secondary px-4">Cancel</a>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}
